(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4UZA":function(e,i,t){"use strict";t.r(i),t.d(i,"HousesListPageModule",function(){return w});var o=t("ofXK"),s=t("3Pt+"),n=t("TEn/"),a=t("tyNb"),c=t("mrSG"),r=t("ISWP"),l=t("WOin"),u=t("fXoL"),b=t("jSfq"),d=t("DIO6"),h=t("e8h1");let m=(()=>{class e{constructor(e){this.storage=e,this.houses=[],this.getFavoritesHouses()}saveHouseInFavorites(e){null==this.houses?this.houses=[e]:this.houses.includes(e)||this.houses.unshift(e),this.storage.set("favorites",this.houses)}getFavoritesHouses(){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.storage.get("favorites");return this.houses=null!=e?e:[],yield this.houses})}removeHouseOfFavorites(e){this.getFavoritesHouses();for(let i=0;i<this.houses.length;i++)(this.houses[i]=e)&&this.houses.splice(i,1);this.storage.set("favorites",this.houses),this.getFavoritesHouses()}}return e.\u0275fac=function(i){return new(i||e)(u.Pb(h.b))},e.\u0275prov=u.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{class e{transform(e,i="",t="",o=""){return""==i?e:e?(i=i.toLocaleLowerCase(),e=e.filter(e=>e[o].toLowerCase().includes(i)||e[t].toLowerCase().includes(i))):e}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=u.Hb({name:"filtro",type:e,pure:!0}),e})();function f(e,i){if(1&e&&u.Jb(0,"ion-icon",16),2&e){const e=u.Vb().$implicit;u.bc("id","iconAddToFavorite-",e.id,"")}}function p(e,i){if(1&e&&u.Jb(0,"ion-icon",17),2&e){const e=u.Vb().$implicit;u.bc("id","iconAddToFavorite-",e.id,"")}}function g(e,i){if(1&e){const e=u.Mb();u.Lb(0,"ion-list"),u.Lb(1,"ion-item-sliding"),u.Lb(2,"ion-item",12),u.Tb("click",function(){u.dc(e);const t=i.$implicit;return u.Vb().showHouseModal(t.name,t.adress,t.city,t.ubication,t.province,t.whatsapp,t.phone_number,t.web_site,t.email)}),u.Lb(3,"ion-label"),u.hc(4),u.Kb(),u.Kb(),u.Lb(5,"ion-item-options",13),u.Lb(6,"ion-item-option",12),u.Tb("click",function(){u.dc(e);const t=i.$implicit;return u.Vb().addHouseToFavorites(t.id)}),u.gc(7,f,1,1,"ion-icon",14),u.gc(8,p,1,1,"ion-icon",15),u.Kb(),u.Kb(),u.Kb(),u.Kb()}if(2&e){const e=i.$implicit,t=u.Vb();u.yb(4),u.kc("",e.name," - ",e.city,""),u.yb(3),u.ac("ngIf",t.favoriteHouses.includes(e.id)),u.yb(1),u.ac("ngIf",!t.favoriteHouses.includes(e.id))}}function y(e,i){if(1&e&&u.Jb(0,"ion-icon",16),2&e){const e=u.Vb(2).$implicit;u.bc("id","iconAddToFavorite-",e.id,"")}}function L(e,i){if(1&e&&u.Jb(0,"ion-icon",17),2&e){const e=u.Vb(2).$implicit;u.bc("id","iconAddToFavorite-",e.id,"")}}function H(e,i){if(1&e){const e=u.Mb();u.Lb(0,"ion-item-sliding"),u.Lb(1,"ion-item",12),u.Tb("click",function(){u.dc(e);const i=u.Vb().$implicit;return u.Vb().showHouseModal(i.name,i.adress,i.city,i.ubication,i.province,i.whatsapp,i.phone_number,i.web_site,i.email)}),u.Lb(2,"ion-label"),u.hc(3),u.Kb(),u.Kb(),u.Lb(4,"ion-item-options",13),u.Lb(5,"ion-item-option",12),u.Tb("click",function(){u.dc(e);const i=u.Vb().$implicit;return u.Vb().addHouseToFavorites(i.id)}),u.gc(6,y,1,1,"ion-icon",14),u.gc(7,L,1,1,"ion-icon",15),u.Kb(),u.Kb(),u.Kb()}if(2&e){const e=u.Vb().$implicit,i=u.Vb();u.yb(3),u.kc("",e.name," - ",e.city,""),u.yb(3),u.ac("ngIf",i.favoriteHouses.includes(e.id)),u.yb(1),u.ac("ngIf",!i.favoriteHouses.includes(e.id))}}function I(e,i){if(1&e&&(u.Lb(0,"ion-list"),u.gc(1,H,8,4,"ion-item-sliding",18),u.Kb()),2&e){const e=i.$implicit,t=u.Vb();u.yb(1),u.ac("ngIf",t.favoriteHouses.includes(e.id))}}const C=[{path:"",component:(()=>{class e{constructor(e,i,t,o,s,n){this.exchangeHousesService=e,this.exchangeValueService=i,this.modalController=t,this.actionSheetController=o,this.toastController=s,this.dataLocalService=n,this.favoriteHouses=[]}ngOnInit(){this.exchangeHousesService.getExchangesHouses().subscribe(e=>{this.houses=e}),this.getValues(),this.favoriteHouses=this.dataLocalService.houses}getValues(){this.exchangeValueService.getExchangeValue().subscribe(e=>{this.blueBuy=parseInt(e[1].casa.compra),this.blueSell=parseInt(e[1].casa.venta),this.oficialBuy=parseInt(e[0].casa.compra),this.oficialSell=parseInt(e[0].casa.venta)})}onSearchChange(e){this.search=e.detail.value}showHouseModal(e,i,t,o,s,n,a,l,u){return Object(c.a)(this,void 0,void 0,function*(){const c=yield this.modalController.create({component:r.a,cssClass:"my-custom-class",componentProps:{houseName:e,houseAdress:i,houseCity:t,houseUbication:o,houseProvince:s,houseWhatsApp:n,housePhoneNumber:a,houseWebSite:l,houseEmail:u}});return yield c.present()})}presentToastCall(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Esta casa no tiene un numero regirstrado , si lo conoce enviar a contact@cristiangonzalez.site",duration:4e3})).present()})}presentToastWeb(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Esta casa no tiene una pagina web registrada , si lo conoce enviar a contact@cristiangonzalez.site",duration:4e3})).present()})}showHelpModal(){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:l.a,cssClass:"my-custom-class"});return yield e.present()})}addHouseToFavorites(e){var i="iconAddToFavorite-"+e.toString();this.dataLocalService.houses.includes(e)?(document.getElementById(i).setAttribute("name","heart-outline"),this.dataLocalService.removeHouseOfFavorites(e),this.favoriteHouses=this.dataLocalService.houses):(this.dataLocalService.saveHouseInFavorites(e),document.getElementById(i).setAttribute("name","heart"))}segmentChanged(e){switch(this.favoriteHouses=this.dataLocalService.houses,e.detail.value){case"todas":document.getElementById("div-listFavoritesHouses").style.display="none",document.getElementById("div-listAllHouses").style.display="block";break;case"favoritas":document.getElementById("div-listFavoritesHouses").style.display="block",document.getElementById("div-listAllHouses").style.display="none"}}}return e.\u0275fac=function(i){return new(i||e)(u.Ib(b.a),u.Ib(d.a),u.Ib(n.J),u.Ib(n.a),u.Ib(n.O),u.Ib(m))},e.\u0275cmp=u.Cb({type:e,selectors:[["app-houses-list"]],decls:28,vars:14,consts:[["mode","ios"],["slot","end","defaultHref","","text","Back","fill","clear",3,"click"],["name","help-circle-outline"],["value","todas",3,"ionChange"],["value","todas"],["value","favoritas"],["name","heart-outline"],["mode","ios",1,"ion-padding"],["placeholder","Buscar por ciudad o provincia","inputmode","text","type","name","showCancelButton","never",3,"ionChange"],["id","div-listAllHouses"],[4,"ngFor","ngForOf"],["id","div-listFavoritesHouses"],[3,"click"],["side","end"],["mode","ios","name","heart",3,"id",4,"ngIf"],["mode","ios","name","heart-outline",3,"id",4,"ngIf"],["mode","ios","name","heart",3,"id"],["mode","ios","name","heart-outline",3,"id"],[4,"ngIf"]],template:function(e,i){1&e&&(u.Lb(0,"ion-header",0),u.Lb(1,"ion-toolbar"),u.Lb(2,"ion-title"),u.hc(3,"Casas de Cambio"),u.Kb(),u.Lb(4,"ion-button",1),u.Tb("click",function(){return i.showHelpModal()}),u.Jb(5,"ion-icon",2),u.Kb(),u.Kb(),u.Kb(),u.Lb(6,"ion-header",0),u.Lb(7,"ion-segment",3),u.Tb("ionChange",function(e){return i.segmentChanged(e)}),u.Lb(8,"ion-segment-button",4),u.Lb(9,"ion-label"),u.hc(10,"Todas"),u.Kb(),u.Kb(),u.Lb(11,"ion-segment-button",5),u.Lb(12,"ion-label"),u.hc(13,"Favoritas "),u.Jb(14,"ion-icon",6),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(15,"ion-content",7),u.hc(16,"\n\xa0\xa0"),u.Lb(17,"ion-searchbar",8),u.Tb("ionChange",function(e){return i.onSearchChange(e)}),u.hc(18,"\n\xa0\xa0"),u.Kb(),u.Lb(19,"h1"),u.hc(20),u.Kb(),u.Lb(21,"div",9),u.gc(22,g,9,4,"ion-list",10),u.Wb(23,"filtro"),u.Kb(),u.Lb(24,"div",11),u.gc(25,I,2,1,"ion-list",10),u.Wb(26,"filtro"),u.Kb(),u.hc(27,"\n\xa0\xa0 "),u.Kb()),2&e&&(u.yb(20),u.kc("Dolar Blue ",i.blueBuy," - ",i.blueSell,""),u.yb(2),u.ac("ngForOf",u.Xb(23,4,i.houses,i.search,"city","province")),u.yb(3),u.ac("ngForOf",u.Xb(26,9,i.houses,i.search,"city","province")))},directives:[n.m,n.G,n.F,n.c,n.n,n.y,n.M,n.z,n.t,n.i,n.x,n.N,o.h,n.u,n.s,n.p,n.r,n.q,o.i],pipes:[v],styles:["ion-segment[_ngcontent-%COMP%]{background:#3481fe}#div-listFavoritesHouses[_ngcontent-%COMP%]{display:none}"]}),e})()}];let F=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(i){return new(i||e)},imports:[[a.i.forChild(C)],a.i]}),e})(),K=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(i){return new(i||e)},imports:[[o.b]]}),e})(),w=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(i){return new(i||e)},imports:[[o.b,s.a,n.H,F,K]]}),e})()}}]);