!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4UZA":function(t,i,o){"use strict";o.r(i),o.d(i,"HousesListPageModule",function(){return A});var s,a,r=o("ofXK"),c=o("3Pt+"),u=o("TEn/"),l=o("tyNb"),b=o("mrSG"),h=o("ISWP"),d=o("WOin"),v=o("fXoL"),f=o("jSfq"),m=o("DIO6"),p=o("e8h1"),g=((a=function(){function t(n){e(this,t),this.storage=n,this.houses=[],this.getFavoritesHouses()}return n(t,[{key:"saveHouseInFavorites",value:function(e){null==this.houses?this.houses=[e]:this.houses.includes(e)||this.houses.unshift(e),this.storage.set("favorites",this.houses)}},{key:"getFavoritesHouses",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get("favorites");case 2:return t=e.sent,this.houses=null!=t?t:[],e.next=6,this.houses;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"removeHouseOfFavorites",value:function(e){this.getFavoritesHouses();for(var t=0;t<this.houses.length;t++)(this.houses[t]=e)&&this.houses.splice(t,1);this.storage.set("favorites",this.houses),this.getFavoritesHouses()}}]),t}()).\u0275fac=function(e){return new(e||a)(v.Pb(p.b))},a.\u0275prov=v.Eb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),y=((s=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return""==t?e:e?(t=t.toLocaleLowerCase(),e=e.filter(function(e){return e[i].toLowerCase().includes(t)||e[n].toLowerCase().includes(t)})):e}}]),t}()).\u0275fac=function(e){return new(e||s)},s.\u0275pipe=v.Hb({name:"filtro",type:s,pure:!0}),s);function w(e,t){if(1&e&&v.Jb(0,"ion-icon",16),2&e){var n=v.Vb().$implicit;v.bc("id","iconAddToFavorite-",n.id,"")}}function L(e,t){if(1&e&&v.Jb(0,"ion-icon",17),2&e){var n=v.Vb().$implicit;v.bc("id","iconAddToFavorite-",n.id,"")}}function H(e,t){if(1&e){var n=v.Mb();v.Lb(0,"ion-list"),v.Lb(1,"ion-item-sliding"),v.Lb(2,"ion-item",12),v.Tb("click",function(){v.dc(n);var e=t.$implicit;return v.Vb().showHouseModal(e.name,e.adress,e.city,e.ubication,e.province,e.whatsapp,e.phone_number,e.web_site,e.email)}),v.Lb(3,"ion-label"),v.hc(4),v.Kb(),v.Kb(),v.Lb(5,"ion-item-options",13),v.Lb(6,"ion-item-option",12),v.Tb("click",function(){v.dc(n);var e=t.$implicit;return v.Vb().addHouseToFavorites(e.id)}),v.gc(7,w,1,1,"ion-icon",14),v.gc(8,L,1,1,"ion-icon",15),v.Kb(),v.Kb(),v.Kb(),v.Kb()}if(2&e){var i=t.$implicit,o=v.Vb();v.yb(4),v.kc("",i.name," - ",i.city,""),v.yb(3),v.ac("ngIf",o.favoriteHouses.includes(i.id)),v.yb(1),v.ac("ngIf",!o.favoriteHouses.includes(i.id))}}function k(e,t){if(1&e&&v.Jb(0,"ion-icon",16),2&e){var n=v.Vb(2).$implicit;v.bc("id","iconAddToFavorite-",n.id,"")}}function C(e,t){if(1&e&&v.Jb(0,"ion-icon",17),2&e){var n=v.Vb(2).$implicit;v.bc("id","iconAddToFavorite-",n.id,"")}}function I(e,t){if(1&e){var n=v.Mb();v.Lb(0,"ion-item-sliding"),v.Lb(1,"ion-item",12),v.Tb("click",function(){v.dc(n);var e=v.Vb().$implicit;return v.Vb().showHouseModal(e.name,e.adress,e.city,e.ubication,e.province,e.whatsapp,e.phone_number,e.web_site,e.email)}),v.Lb(2,"ion-label"),v.hc(3),v.Kb(),v.Kb(),v.Lb(4,"ion-item-options",13),v.Lb(5,"ion-item-option",12),v.Tb("click",function(){v.dc(n);var e=v.Vb().$implicit;return v.Vb().addHouseToFavorites(e.id)}),v.gc(6,k,1,1,"ion-icon",14),v.gc(7,C,1,1,"ion-icon",15),v.Kb(),v.Kb(),v.Kb()}if(2&e){var i=v.Vb().$implicit,o=v.Vb();v.yb(3),v.kc("",i.name," - ",i.city,""),v.yb(3),v.ac("ngIf",o.favoriteHouses.includes(i.id)),v.yb(1),v.ac("ngIf",!o.favoriteHouses.includes(i.id))}}function F(e,t){if(1&e&&(v.Lb(0,"ion-list"),v.gc(1,I,8,4,"ion-item-sliding",18),v.Kb()),2&e){var n=t.$implicit,i=v.Vb();v.yb(1),v.ac("ngIf",i.favoriteHouses.includes(n.id))}}var K,x,S,T,V=[{path:"",component:(K=function(){function t(n,i,o,s,a,r){e(this,t),this.exchangeHousesService=n,this.exchangeValueService=i,this.modalController=o,this.actionSheetController=s,this.toastController=a,this.dataLocalService=r,this.favoriteHouses=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.exchangeHousesService.getExchangesHouses().subscribe(function(t){e.houses=t}),this.getValues(),this.favoriteHouses=this.dataLocalService.houses}},{key:"getValues",value:function(){var e=this;this.exchangeValueService.getExchangeValue().subscribe(function(t){e.blueBuy=parseInt(t[1].casa.compra),e.blueSell=parseInt(t[1].casa.venta),e.oficialBuy=parseInt(t[0].casa.compra),e.oficialSell=parseInt(t[0].casa.venta)})}},{key:"onSearchChange",value:function(e){this.search=e.detail.value}},{key:"showHouseModal",value:function(e,t,n,i,o,s,a,r,c){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function u(){var l;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.modalController.create({component:h.a,cssClass:"my-custom-class",componentProps:{houseName:e,houseAdress:t,houseCity:n,houseUbication:i,houseProvince:o,houseWhatsApp:s,housePhoneNumber:a,houseWebSite:r,houseEmail:c}});case 2:return l=u.sent,u.next=5,l.present();case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},u,this)}))}},{key:"presentToastCall",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"Esta casa no tiene un numero regirstrado , si lo conoce enviar a contact@cristiangonzalez.site",duration:4e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentToastWeb",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"Esta casa no tiene una pagina web registrada , si lo conoce enviar a contact@cristiangonzalez.site",duration:4e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"showHelpModal",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:d.a,cssClass:"my-custom-class"});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))}},{key:"addHouseToFavorites",value:function(e){var t="iconAddToFavorite-"+e.toString();this.dataLocalService.houses.includes(e)?(document.getElementById(t).setAttribute("name","heart-outline"),this.dataLocalService.removeHouseOfFavorites(e),this.favoriteHouses=this.dataLocalService.houses):(this.dataLocalService.saveHouseInFavorites(e),document.getElementById(t).setAttribute("name","heart"))}},{key:"segmentChanged",value:function(e){switch(this.favoriteHouses=this.dataLocalService.houses,e.detail.value){case"todas":document.getElementById("div-listFavoritesHouses").style.display="none",document.getElementById("div-listAllHouses").style.display="block";break;case"favoritas":document.getElementById("div-listFavoritesHouses").style.display="block",document.getElementById("div-listAllHouses").style.display="none"}}}]),t}(),K.\u0275fac=function(e){return new(e||K)(v.Ib(f.a),v.Ib(m.a),v.Ib(u.J),v.Ib(u.a),v.Ib(u.O),v.Ib(g))},K.\u0275cmp=v.Cb({type:K,selectors:[["app-houses-list"]],decls:28,vars:14,consts:[["mode","ios"],["slot","end","defaultHref","","text","Back","fill","clear",3,"click"],["name","help-circle-outline"],["value","todas",3,"ionChange"],["value","todas"],["value","favoritas"],["name","heart-outline"],["mode","ios",1,"ion-padding"],["placeholder","Buscar por ciudad o provincia","inputmode","text","type","name","showCancelButton","never",3,"ionChange"],["id","div-listAllHouses"],[4,"ngFor","ngForOf"],["id","div-listFavoritesHouses"],[3,"click"],["side","end"],["mode","ios","name","heart",3,"id",4,"ngIf"],["mode","ios","name","heart-outline",3,"id",4,"ngIf"],["mode","ios","name","heart",3,"id"],["mode","ios","name","heart-outline",3,"id"],[4,"ngIf"]],template:function(e,t){1&e&&(v.Lb(0,"ion-header",0),v.Lb(1,"ion-toolbar"),v.Lb(2,"ion-title"),v.hc(3,"Casas de Cambio"),v.Kb(),v.Lb(4,"ion-button",1),v.Tb("click",function(){return t.showHelpModal()}),v.Jb(5,"ion-icon",2),v.Kb(),v.Kb(),v.Kb(),v.Lb(6,"ion-header",0),v.Lb(7,"ion-segment",3),v.Tb("ionChange",function(e){return t.segmentChanged(e)}),v.Lb(8,"ion-segment-button",4),v.Lb(9,"ion-label"),v.hc(10,"Todas"),v.Kb(),v.Kb(),v.Lb(11,"ion-segment-button",5),v.Lb(12,"ion-label"),v.hc(13,"Favoritas "),v.Jb(14,"ion-icon",6),v.Kb(),v.Kb(),v.Kb(),v.Kb(),v.Lb(15,"ion-content",7),v.hc(16,"\n\xa0\xa0"),v.Lb(17,"ion-searchbar",8),v.Tb("ionChange",function(e){return t.onSearchChange(e)}),v.hc(18,"\n\xa0\xa0"),v.Kb(),v.Lb(19,"h1"),v.hc(20),v.Kb(),v.Lb(21,"div",9),v.gc(22,H,9,4,"ion-list",10),v.Wb(23,"filtro"),v.Kb(),v.Lb(24,"div",11),v.gc(25,F,2,1,"ion-list",10),v.Wb(26,"filtro"),v.Kb(),v.hc(27,"\n\xa0\xa0 "),v.Kb()),2&e&&(v.yb(20),v.kc("Dolar Blue ",t.blueBuy," - ",t.blueSell,""),v.yb(2),v.ac("ngForOf",v.Xb(23,4,t.houses,t.search,"city","province")),v.yb(3),v.ac("ngForOf",v.Xb(26,9,t.houses,t.search,"city","province")))},directives:[u.m,u.G,u.F,u.c,u.n,u.y,u.M,u.z,u.t,u.i,u.x,u.N,r.h,u.u,u.s,u.p,u.r,u.q,r.i],pipes:[y],styles:["ion-segment[_ngcontent-%COMP%]{background:#3481fe}#div-listFavoritesHouses[_ngcontent-%COMP%]{display:none}"]}),K)}],O=((T=function t(){e(this,t)}).\u0275mod=v.Gb({type:T}),T.\u0275inj=v.Fb({factory:function(e){return new(e||T)},imports:[[l.i.forChild(V)],l.i]}),T),E=((S=function t(){e(this,t)}).\u0275mod=v.Gb({type:S}),S.\u0275inj=v.Fb({factory:function(e){return new(e||S)},imports:[[r.b]]}),S),A=((x=function t(){e(this,t)}).\u0275mod=v.Gb({type:x}),x.\u0275inj=v.Fb({factory:function(e){return new(e||x)},imports:[[r.b,c.a,u.H,O,E]]}),x)}}])}();